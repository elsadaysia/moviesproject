{"ast":null,"code":"var _class;\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../movie.service\";\nimport * as i2 from \"../api.service\";\nexport class MovieListComponent {\n  constructor(movieService, apiService) {\n    this.movieService = movieService;\n    this.apiService = apiService;\n    this.movies = [];\n  }\n  ngOnInit() {\n    // After a successful login, the authentication service should store the JWT token.\n    // You can access it from there.\n    const userToken = this.apiService.getToken();\n    if (!userToken) {\n      // Handle the case where the token is not available (e.g., user is not logged in)\n      console.error('User is not authenticated.');\n      return;\n    }\n    // Use the retrieved token to fetch movies\n    this.movieService.getMovies(userToken).subscribe(data => {\n      this.movies = data;\n    });\n  }\n}\n_class = MovieListComponent;\n_class.ɵfac = function MovieListComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.MovieService), i0.ɵɵdirectiveInject(i2.ApiService));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-movie-list\"]],\n  decls: 2,\n  vars: 0,\n  template: function MovieListComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"p\");\n      i0.ɵɵtext(1, \"movies works!\");\n      i0.ɵɵelementEnd();\n    }\n  },\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});","map":{"version":3,"names":["MovieListComponent","constructor","movieService","apiService","movies","ngOnInit","userToken","getToken","console","error","getMovies","subscribe","data","i0","ɵɵdirectiveInject","i1","MovieService","i2","ApiService","selectors","decls","vars","template","MovieListComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd"],"sources":["D:\\GIT\\FinalProject2\\Frontend\\src\\app\\movies\\movies.component.ts","D:\\GIT\\FinalProject2\\Frontend\\src\\app\\movies\\movies.component.html"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { MovieService } from '../movie.service';\nimport { ApiService } from '../api.service'; // Import your authentication service\n\n@Component({\n  selector: 'app-movie-list',\n  templateUrl: './movies.component.html',\n  styleUrls: ['./movies.component.css']\n})\nexport class MovieListComponent implements OnInit {\n  movies: any[] = [];\n\n  constructor(\n    private movieService: MovieService,\n    private apiService: ApiService \n  ) { }\n\n  ngOnInit() {\n    // After a successful login, the authentication service should store the JWT token.\n    // You can access it from there.\n    const userToken = this.apiService.getToken(); \n\n    if (!userToken) {\n      // Handle the case where the token is not available (e.g., user is not logged in)\n      console.error('User is not authenticated.');\n      return;\n    }\n\n    // Use the retrieved token to fetch movies\n    this.movieService.getMovies(userToken).subscribe(data => {\n      this.movies = data;\n    });\n  }\n}\n","<p>movies works!</p>\n"],"mappings":";;;;AASA,OAAM,MAAOA,kBAAkB;EAG7BC,YACUC,YAA0B,EAC1BC,UAAsB;IADtB,KAAAD,YAAY,GAAZA,YAAY;IACZ,KAAAC,UAAU,GAAVA,UAAU;IAJpB,KAAAC,MAAM,GAAU,EAAE;EAKd;EAEJC,QAAQA,CAAA;IACN;IACA;IACA,MAAMC,SAAS,GAAG,IAAI,CAACH,UAAU,CAACI,QAAQ,EAAE;IAE5C,IAAI,CAACD,SAAS,EAAE;MACd;MACAE,OAAO,CAACC,KAAK,CAAC,4BAA4B,CAAC;MAC3C;;IAGF;IACA,IAAI,CAACP,YAAY,CAACQ,SAAS,CAACJ,SAAS,CAAC,CAACK,SAAS,CAACC,IAAI,IAAG;MACtD,IAAI,CAACR,MAAM,GAAGQ,IAAI;IACpB,CAAC,CAAC;EACJ;;SAvBWZ,kBAAkB;;mBAAlBA,MAAkB,EAAAa,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,YAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,UAAA;AAAA;;QAAlBlB,MAAkB;EAAAmB,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,QAAA,WAAAC,4BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCT/BX,EAAA,CAAAa,cAAA,QAAG;MAAAb,EAAA,CAAAc,MAAA,oBAAa;MAAAd,EAAA,CAAAe,YAAA,EAAI"},"metadata":{},"sourceType":"module","externalDependencies":[]}