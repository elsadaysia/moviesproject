{"ast":null,"code":"export {};","map":{"version":3,"names":[],"sources":["D:\\GIT\\FinalProject2\\Frontend\\src\\app\\movie-detail\\movie-detail.component.ts"],"sourcesContent":["import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { ApiService } from '../api.service'; // Import your movie service\nimport { Mo}\n@Component({\n  selector: 'app-movie-detail',\n  templateUrl: './movie-detail.component.html',\n  styleUrls: ['./movie-detail.component.css'],\n})\nexport class MovieDetailComponent implements OnInit {\n  movieId: string;\n\n  constructor(\n    private route: ActivatedRoute,\n    // private authService: AuthService,\n    private apiService: ApiService,\n    private router: Router\n  ) {}\n\n  ngOnInit(): void {\n    this.movieId = this.route.snapshot.paramMap.get('id');\n  }\n\n  bookmarkMovie() {\n    const token = this.apiService.getToken(); // Assuming you have a method to get the JWT token\n\n    if (!token) {\n      // Handle unauthorized access, e.g., redirect to login\n      this.router.navigate(['/login']);\n      return;\n    }\n\n    this.apiService.bookmarkMovie(this.movieId, token).subscribe(\n      (response) => {\n        console.log('Movie bookmarked successfully!', response);\n        // Handle success, e.g., show a success message\n        this.router.navigate(['/movies']); // Redirect to /movies on success\n      },\n      (error) => {\n        console.error('Error bookmarking movie:', error);\n        // Handle error, e.g., show an error message\n      }\n    );\n  }\n}\n"],"mappings":""},"metadata":{},"sourceType":"module","externalDependencies":[]}